@{
    ViewData["Title"] = "Tutorial";
}

<div class="d-flex flex-column align-items-center text-center">
    @if(ViewBag.LoginMessage != null)
    {
        <p class="alert alert-success mb-2">@ViewBag.LoginMessage</p>
    }

    <h1 class="display-4">Welcome to Tutorial!</h1>
    <p class="lead">Learn to move chess pieces.</p>
    <p class="lead">Please select a piece to practice.</p>
    <a id="ResetBoard" class="btn btn-dark col-2">Reset Board</a>
    <div id="Board" class="d-flex flex-wrap mt-4"></div></div>

@section Scripts{
    <script>
        $(document).ready(function() {
            // The page is fully loaded
            $.get("@Url.Action("CreateBoard")",null, function (data) {
                var board = data.board;
                console.log(board.size);
                console.log(board.boardSquares.length);
                for(i=0; i<board.boardSquares.length;i++)
                {
                    $("#Board").append("<div id='R#F" + i + "' class='square color" + board.boardSquares[i].color + "'>" + board.boardSquares[i].location.rank + ", " + board.boardSquares[i].location.file + "</div>");
                }
                $(document).on("click", ".square", function(){
                    $("#Board > div").removeClass("selected");
                    $(this).toggleClass("selected");
                });
            });

            $(document).on( "click", "#ResetBoard", function() {
                $("#Board").html("");
                $.get("@Url.Action("CreateBoard")",null, function (data) {
                    var board = data.board;
                    console.log(board.size);
                    console.log(board.boardSquares.length);
                    for(i=0; i<board.boardSquares.length;i++)
                    {
                        $("#Board").append("<div id='R#F" + i + "' class='square color" + board.boardSquares[i].color + "'>" + board.boardSquares[i].location.rank + ", " + board.boardSquares[i].location.file + "</div>");
                    }
                    $(document).on("click", ".square", function(){
                        $("#Board > div").removeClass("selected");
                        $(this).toggleClass("selected");
                    });
                });
            });
        });
    </script>
}